<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>esp32-tsl2561: /home/travis/build/DavidAntliff/esp32-tsl2561/include/tsl2561.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">esp32-tsl2561
   </div>
   <div id="projectbrief">ESP32-compatible C library for TSL2561 Light to Digital Converter.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tsl2561.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface definitions for the ESP32-compatible TSL2561 Light to Digital Converter component.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &quot;smbus.h&quot;</code><br/>
</div>
<p><a href="tsl2561_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing information related to the SMBus protocol.  <a href="structtsl2561__info__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af560d956e74f6f5a236a3a07eb745f0d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af560d956e74f6f5a236a3a07eb745f0d"></a>
typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#af560d956e74f6f5a236a3a07eb745f0d">tsl2561_revision_t</a></td></tr>
<tr class="memdesc:af560d956e74f6f5a236a3a07eb745f0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the IC's revision value. <br/></td></tr>
<tr class="separator:af560d956e74f6f5a236a3a07eb745f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91ed93fc97b09c5e8bbbc9b7fef9f36"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa91ed93fc97b09c5e8bbbc9b7fef9f36"></a>
typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#aa91ed93fc97b09c5e8bbbc9b7fef9f36">tsl2561_visible_t</a></td></tr>
<tr class="memdesc:aa91ed93fc97b09c5e8bbbc9b7fef9f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of a visible light measurement value. <br/></td></tr>
<tr class="separator:aa91ed93fc97b09c5e8bbbc9b7fef9f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de080685db694a983bbdf1ec5c9e368"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8de080685db694a983bbdf1ec5c9e368"></a>
typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#a8de080685db694a983bbdf1ec5c9e368">tsl2561_infrared_t</a></td></tr>
<tr class="memdesc:a8de080685db694a983bbdf1ec5c9e368"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of an infrared light measurement value. <br/></td></tr>
<tr class="separator:a8de080685db694a983bbdf1ec5c9e368"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7cad709c90934ffc3b0ec9cce844f01b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01b">tsl2561_device_type_t</a> { <br/>
&#160;&#160;<a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01ba417b0cc58db41b79c4c79ee691d738b7">TSL2561_DEVICE_TYPE_INVALID</a> = 0b1111, 
<a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01ba53af26cd36ecd877c706e1195253d4d1">TSL2561_DEVICE_TYPE_TSL2560CS</a> = 0b0000, 
<a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01ba08aa80b1855b6985073139bf327b50fc">TSL2561_DEVICE_TYPE_TSL2561CS</a> = 0b0001, 
<a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01baeb9a6a73ef62dc517f106b1fc908e6b4">TSL2561_DEVICE_TYPE_TSL2560T_FN_CL</a> = 0b0100, 
<br/>
&#160;&#160;<a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01ba1779b7609578211b3b29252e2687ec0f">TSL2561_DEVICE_TYPE_TSL2561T_FN_CL</a> = 0b0101
<br/>
 }</td></tr>
<tr class="memdesc:a7cad709c90934ffc3b0ec9cce844f01b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for recognised TSL256x devices.  <a href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01b">More...</a><br/></td></tr>
<tr class="separator:a7cad709c90934ffc3b0ec9cce844f01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2e4a93f7c856e003308a9148228a45"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#ada2e4a93f7c856e003308a9148228a45">tsl2561_integration_time_t</a> { <a class="el" href="tsl2561_8h.html#ada2e4a93f7c856e003308a9148228a45ae72972d665179936ebff23b2fe2011bc">TSL2561_INTEGRATION_TIME_13MS</a> = 0x00, 
<a class="el" href="tsl2561_8h.html#ada2e4a93f7c856e003308a9148228a45aa08ef190ab9ac73ef4880f9b09683e67">TSL2561_INTEGRATION_TIME_101MS</a> = 0x01, 
<a class="el" href="tsl2561_8h.html#ada2e4a93f7c856e003308a9148228a45a342c469ec307736a9330ec0eb7dfce87">TSL2561_INTEGRATION_TIME_402MS</a> = 0x02
 }</td></tr>
<tr class="memdesc:ada2e4a93f7c856e003308a9148228a45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for supported integration durations. These durations assume the default internal oscillator frequency of 735 kHz.  <a href="tsl2561_8h.html#ada2e4a93f7c856e003308a9148228a45">More...</a><br/></td></tr>
<tr class="separator:ada2e4a93f7c856e003308a9148228a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9279be01bdb658d598da12a8b40e294"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#ad9279be01bdb658d598da12a8b40e294">tsl2561_gain_t</a> { <b>TSL2561_GAIN_1X</b> = 0x00, 
<b>TSL2561_GAIN_16X</b> = 0x10
 }</td></tr>
<tr class="memdesc:ad9279be01bdb658d598da12a8b40e294"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for supported gain values. <br/></td></tr>
<tr class="separator:ad9279be01bdb658d598da12a8b40e294"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ade1afd851c7ee85fb952873db0fe49e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#ade1afd851c7ee85fb952873db0fe49e5">tsl2561_malloc</a> (void)</td></tr>
<tr class="memdesc:ade1afd851c7ee85fb952873db0fe49e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new TSL2561 info instance. New instance should be initialised before calling other functions.  <a href="#ade1afd851c7ee85fb952873db0fe49e5">More...</a><br/></td></tr>
<tr class="separator:ade1afd851c7ee85fb952873db0fe49e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4299207d4c0551afd167c2048b20fdc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#a4299207d4c0551afd167c2048b20fdc4">tsl2561_free</a> (<a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> **tsl2561_info)</td></tr>
<tr class="memdesc:a4299207d4c0551afd167c2048b20fdc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an existing TSL2561 info instance.  <a href="#a4299207d4c0551afd167c2048b20fdc4">More...</a><br/></td></tr>
<tr class="separator:a4299207d4c0551afd167c2048b20fdc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5585dd5a86aa433cc7ab4be7d333e433"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#a5585dd5a86aa433cc7ab4be7d333e433">tsl2561_init</a> (<a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *tsl2561_info, smbus_info_t *smbus_info)</td></tr>
<tr class="memdesc:a5585dd5a86aa433cc7ab4be7d333e433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a TSL2561 info instance with the specified SMBus information.  <a href="#a5585dd5a86aa433cc7ab4be7d333e433">More...</a><br/></td></tr>
<tr class="separator:a5585dd5a86aa433cc7ab4be7d333e433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6dca3a9edda93bed24551b64df68e08"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#ad6dca3a9edda93bed24551b64df68e08">tsl2561_device_id</a> (const <a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *tsl2561_info, <a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01b">tsl2561_device_type_t</a> *device, <a class="el" href="tsl2561_8h.html#af560d956e74f6f5a236a3a07eb745f0d">tsl2561_revision_t</a> *revision)</td></tr>
<tr class="memdesc:ad6dca3a9edda93bed24551b64df68e08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the Device Type ID and Revision number from the device.  <a href="#ad6dca3a9edda93bed24551b64df68e08">More...</a><br/></td></tr>
<tr class="separator:ad6dca3a9edda93bed24551b64df68e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46df11134921e4071e35d2ed12b86b51"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#a46df11134921e4071e35d2ed12b86b51">tsl2561_set_integration_time_and_gain</a> (<a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *tsl2561_info, <a class="el" href="tsl2561_8h.html#ada2e4a93f7c856e003308a9148228a45">tsl2561_integration_time_t</a> integration_time, <a class="el" href="tsl2561_8h.html#ad9279be01bdb658d598da12a8b40e294">tsl2561_gain_t</a> gain)</td></tr>
<tr class="memdesc:a46df11134921e4071e35d2ed12b86b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the integration time and gain. These values are set together as they are programmed via the same register.  <a href="#a46df11134921e4071e35d2ed12b86b51">More...</a><br/></td></tr>
<tr class="separator:a46df11134921e4071e35d2ed12b86b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57bbc17784ac305452ab59f0373d59f2"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#a57bbc17784ac305452ab59f0373d59f2">tsl2561_read</a> (<a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *tsl2561_info, <a class="el" href="tsl2561_8h.html#aa91ed93fc97b09c5e8bbbc9b7fef9f36">tsl2561_visible_t</a> *visible, <a class="el" href="tsl2561_8h.html#a8de080685db694a983bbdf1ec5c9e368">tsl2561_infrared_t</a> *infrared)</td></tr>
<tr class="memdesc:a57bbc17784ac305452ab59f0373d59f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a visible and infrared light measurement from the device. This function will sleep until the integration time has passed.  <a href="#a57bbc17784ac305452ab59f0373d59f2">More...</a><br/></td></tr>
<tr class="separator:a57bbc17784ac305452ab59f0373d59f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7980a886b4b49f0c8ae03723b9592c74"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tsl2561_8h.html#a7980a886b4b49f0c8ae03723b9592c74">tsl2561_compute_lux</a> (const <a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *tsl2561_info, <a class="el" href="tsl2561_8h.html#aa91ed93fc97b09c5e8bbbc9b7fef9f36">tsl2561_visible_t</a> visible, <a class="el" href="tsl2561_8h.html#a8de080685db694a983bbdf1ec5c9e368">tsl2561_infrared_t</a> infrared)</td></tr>
<tr class="memdesc:a7980a886b4b49f0c8ae03723b9592c74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the Lux approximation from a visible and infrared light measurement. The calculation is performed according to the procedure given in the datasheet.  <a href="#a7980a886b4b49f0c8ae03723b9592c74">More...</a><br/></td></tr>
<tr class="separator:a7980a886b4b49f0c8ae03723b9592c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface definitions for the ESP32-compatible TSL2561 Light to Digital Converter component. </p>
<p>This component provides structures and functions that are useful for communicating with the device.</p>
<p>Technically, the TSL2561 device is an I2C not SMBus device, however the datasheet makes it clear that most SMBus operations are compatible with this device, so it makes sense to use an SMBus interface to manage communication. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a7cad709c90934ffc3b0ec9cce844f01b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01b">tsl2561_device_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum for recognised TSL256x devices. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a7cad709c90934ffc3b0ec9cce844f01ba417b0cc58db41b79c4c79ee691d738b7"></a>TSL2561_DEVICE_TYPE_INVALID</em>&#160;</td><td class="fielddoc">
<p>Invalid device. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7cad709c90934ffc3b0ec9cce844f01ba53af26cd36ecd877c706e1195253d4d1"></a>TSL2561_DEVICE_TYPE_TSL2560CS</em>&#160;</td><td class="fielddoc">
<p>TSL2560CS (Chipscale) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7cad709c90934ffc3b0ec9cce844f01ba08aa80b1855b6985073139bf327b50fc"></a>TSL2561_DEVICE_TYPE_TSL2561CS</em>&#160;</td><td class="fielddoc">
<p>TSL2561CS (Chipscale) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7cad709c90934ffc3b0ec9cce844f01baeb9a6a73ef62dc517f106b1fc908e6b4"></a>TSL2561_DEVICE_TYPE_TSL2560T_FN_CL</em>&#160;</td><td class="fielddoc">
<p>TSL2560T/FN/CL (TMB-6 or Dual Flat No-Lead-6 or ChipLED-6) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7cad709c90934ffc3b0ec9cce844f01ba1779b7609578211b3b29252e2687ec0f"></a>TSL2561_DEVICE_TYPE_TSL2561T_FN_CL</em>&#160;</td><td class="fielddoc">
<p>TSL2561T/FN/CL (TMB-6 or Dual Flat No-Lead-6 or ChipLED-6) </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ada2e4a93f7c856e003308a9148228a45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tsl2561_8h.html#ada2e4a93f7c856e003308a9148228a45">tsl2561_integration_time_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum for supported integration durations. These durations assume the default internal oscillator frequency of 735 kHz. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ada2e4a93f7c856e003308a9148228a45ae72972d665179936ebff23b2fe2011bc"></a>TSL2561_INTEGRATION_TIME_13MS</em>&#160;</td><td class="fielddoc">
<p>Integrate over 13.7 milliseconds. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ada2e4a93f7c856e003308a9148228a45aa08ef190ab9ac73ef4880f9b09683e67"></a>TSL2561_INTEGRATION_TIME_101MS</em>&#160;</td><td class="fielddoc">
<p>Integrate over 101 milliseconds. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ada2e4a93f7c856e003308a9148228a45a342c469ec307736a9330ec0eb7dfce87"></a>TSL2561_INTEGRATION_TIME_402MS</em>&#160;</td><td class="fielddoc">
<p>Integrate over 402 milliseconds. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ade1afd851c7ee85fb952873db0fe49e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a>* tsl2561_malloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new TSL2561 info instance. New instance should be initialised before calling other functions. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to new device info instance, or NULL if it cannot be created. </dd></dl>

</div>
</div>
<a class="anchor" id="a4299207d4c0551afd167c2048b20fdc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tsl2561_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> **&#160;</td>
          <td class="paramname"><em>tsl2561_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete an existing TSL2561 info instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">tsl2561_info</td><td>Pointer to TSL2561 info instance that will be freed and set to NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5585dd5a86aa433cc7ab4be7d333e433"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t tsl2561_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *&#160;</td>
          <td class="paramname"><em>tsl2561_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">smbus_info_t *&#160;</td>
          <td class="paramname"><em>smbus_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise a TSL2561 info instance with the specified SMBus information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tsl2561_info</td><td>Pointer to TSL2561 info instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">smbus_info</td><td>Pointer to SMBus info instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad6dca3a9edda93bed24551b64df68e08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t tsl2561_device_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *&#160;</td>
          <td class="paramname"><em>tsl2561_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tsl2561_8h.html#a7cad709c90934ffc3b0ec9cce844f01b">tsl2561_device_type_t</a> *&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tsl2561_8h.html#af560d956e74f6f5a236a3a07eb745f0d">tsl2561_revision_t</a> *&#160;</td>
          <td class="paramname"><em>revision</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the Device Type ID and Revision number from the device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tsl2561_info</td><td>Pointer to initialised TSL2561 info instance. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">device</td><td>The retrieved Device Type ID. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">revision</td><td>The retrieved Device Revision number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK if successful, ESP_FAIL or ESP_ERR_* if an error occurred. </dd></dl>

</div>
</div>
<a class="anchor" id="a46df11134921e4071e35d2ed12b86b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t tsl2561_set_integration_time_and_gain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *&#160;</td>
          <td class="paramname"><em>tsl2561_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tsl2561_8h.html#ada2e4a93f7c856e003308a9148228a45">tsl2561_integration_time_t</a>&#160;</td>
          <td class="paramname"><em>integration_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tsl2561_8h.html#ad9279be01bdb658d598da12a8b40e294">tsl2561_gain_t</a>&#160;</td>
          <td class="paramname"><em>gain</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the integration time and gain. These values are set together as they are programmed via the same register. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tsl2561_info</td><td>Pointer to initialised TSL2561 info instance. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">integration_time</td><td>The integration time to use for the next measurement. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">infrared</td><td>The gain setting to use for the next measurement. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK if successful, ESP_FAIL or ESP_ERR_* if an error occurred. </dd></dl>

</div>
</div>
<a class="anchor" id="a57bbc17784ac305452ab59f0373d59f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t tsl2561_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *&#160;</td>
          <td class="paramname"><em>tsl2561_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tsl2561_8h.html#aa91ed93fc97b09c5e8bbbc9b7fef9f36">tsl2561_visible_t</a> *&#160;</td>
          <td class="paramname"><em>visible</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tsl2561_8h.html#a8de080685db694a983bbdf1ec5c9e368">tsl2561_infrared_t</a> *&#160;</td>
          <td class="paramname"><em>infrared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a visible and infrared light measurement from the device. This function will sleep until the integration time has passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tsl2561_info</td><td>Pointer to initialised TSL2561 info instance. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">visible</td><td>The resultant visible light measurement. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">infrared</td><td>The resultant infrared light measurement. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK if successful, ESP_FAIL or ESP_ERR_* if an error occurred. </dd></dl>

</div>
</div>
<a class="anchor" id="a7980a886b4b49f0c8ae03723b9592c74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tsl2561_compute_lux </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtsl2561__info__t.html">tsl2561_info_t</a> *&#160;</td>
          <td class="paramname"><em>tsl2561_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tsl2561_8h.html#aa91ed93fc97b09c5e8bbbc9b7fef9f36">tsl2561_visible_t</a>&#160;</td>
          <td class="paramname"><em>visible</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tsl2561_8h.html#a8de080685db694a983bbdf1ec5c9e368">tsl2561_infrared_t</a>&#160;</td>
          <td class="paramname"><em>infrared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the Lux approximation from a visible and infrared light measurement. The calculation is performed according to the procedure given in the datasheet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tsl2561_info</td><td>Pointer to initialised TSL2561 info instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">visible</td><td>The visible light measurement. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">infrared</td><td>The infrared light measurement. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The resulting approximation of the light measurement in Lux. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
